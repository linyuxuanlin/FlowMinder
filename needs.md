# FlowMinder 功能需求文档

## 1. 项目结构与导航

### 侧边栏
- 侧边栏默认为折叠状态，只显示图标
- 点击展开按钮可以查看完整的项目列表
- 支持快速切换不同项目
- 包含"新建项目"按钮

### 导航
- 网站顶栏不要包含新建项目按钮
- 新建项目按钮应放置在主页

## 2. 项目列表页面

- 以卡片形式展示多个项目
- 卡片可点击进入项目详情
- 卡片右侧有操作按钮：
  - 编辑项目属性
  - 删除项目
- 主页应包含新建项目按钮

## 3. 项目详情与流程图

### 项目详情页面
- 左侧包含可折叠的侧边栏，支持切换项目
- 上方显示项目基本信息：名称、描述、本地路径等
- 主区域显示任务流程图
- 可创建新任务的按钮

### 任务流程图结构
- 支持分支(Branch)概念，分支水平排布
- 每个分支可以包含多个主线任务节点，垂直排列
- 任务步骤的关系：TASK 1 下一步是 TASK 2，可以创建多个连续步骤
- 主线任务可以分支出支线任务
- 支线任务也可以继续分支

## 4. 节点设计与交互

### 节点类型与样式
- 主线任务：
  - 使用浅棕色背景
  - 有更粗的字体和边框
  - 不显示状态
- 支线任务：
  - 根据状态显示不同颜色
  - 进行中：浅黄色
  - 已完成：浅绿色
  - 已弃用：浅灰色

### 节点交互
- 节点可以被拖动，拖动后会自动复位到原位置
- 当光标移动到节点上时，显示"+"按钮：
  - 下方"+"按钮：创建下一个步骤（基于当前节点创建后续任务）
  - 右侧"+"按钮：创建分支任务（基于当前节点创建右侧分支）

## 5. 任务创建与管理

### 任务创建
- 支持创建主线任务和支线任务
- 新建任务的默认状态为"进行中"
- 主线任务无需设置状态
- 支持指定本地文件路径

### 任务状态
- 主线任务无需状态
- 支线任务状态：
  - 进行中（默认）
  - 已完成
  - 已弃用

### 任务关系可视化
- 主线任务之间通过垂直连线连接
- 支线任务与父任务通过连线连接
- 连线颜色与节点状态匹配
- 已完成的支线任务与父任务之间显示虚线（表示合并）

## 6. 工作流程

1. 创建项目
2. 在项目中创建分支
3. 在分支中创建主线任务节点
4. 在主线任务下创建后续步骤或支线任务
5. 随着任务进行更新任务状态
6. 任务完成后可视化整个流程

## 7. 技术要求

- 使用React Flow进行流程图渲染
- 支持本地路径管理
- 响应式设计，适应不同屏幕大小

请帮我开发一个docker compose 部署的web app项目FlowMinder，用于项目管理。举个例子，在一个项目中，我有多条主线任务同时进行，可以在网页上创建整个任务流，每个主节点为一个markdown文档。主线上可以延伸出一些支线问题或任务，每个任务都可以设置状态例如已完成。整个任务流的视图是从上到下，可以自由缩放滚动。这个web app是通过docker compose部署的，每个任务节点也可以本地化为markdown在本地使用其他编辑器编辑、并实时同步更新版面，在网页上编辑也会同步更新本地的markdown文件。flow的节点间的关系也使用一个本地化的配置文件来描述，这个文件同样可以与网页端双向同步。

其他要求：

- docker compose 文件是 compose.yml
